<html>
<head>

<title>巢穴一覧</title>
<link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47" crossorigin="anonymous">
</head>
<style type="text/css">
a {
	text-decoration: none;
}
.floating-div {
	position: fixed;
	top: 40px;
	right: 40px;
	z-index: -1;
}
</style>
<script type="text/javascript">

	var data = [
		["4", "铁甲蛹", "煦丽草原"],
		["1", "飞腿郎", "美纳斯湖南岸"],
		["Den 9, Den 41", "蟾蜍王", "沙尘洼地"],
		["17", "超音波幼虫", "沙尘洼地"],
		["36, (Den 63, Den 88)", "长毛巨魔, 流氓熊猫", "沙尘洼地"],
		["Den 21, Den 17, Den 22", "长毛猪", "沙尘洼地"],
		["11", "齿轮组", "沙尘洼地"],
		["Den 6, Den 28", "南瓜怪人", "沙尘洼地"],
		["Den 7, Den 76", "章鱼桶", "美纳斯湖南岸"],
		["Den 26, Den 58, Den 59, Den 79", "乐天河童", "沐光森林"],
		["Den 4, Den 5, Den 61, Den 89, Den 90", "巴大蝶", "牙牙湖西岸?"],
		["Den 41, Den 9, Den 21", "刺甲贝", "牙牙湖西岸"],
		["Den 9, Den 41, Den 52, Den 93", "蓝蟾蜍", "牙牙湖西岸?"],
		["31", "心蝙蝠", "牙牙湖东岸"],
		["Den 8, Den 41, (Den 75, Den 76, Den 78)", "弱丁鱼, 巨钳蟹", "美纳斯湖北岸"],
		["29", "毒蔷薇, 超坏星", "美纳斯湖北岸"],
		["Den 4, Den 5, Den 24, Den 56", "电蜘蛛", "机擎河岸"],
		["40", "掘地兔, 毛毛角羊", "机擎河岸"],
		["39", "童偶熊, 掘地兔", "牙牙湖东岸"],
		["Den 3, Den 15", "庞岩怪", "巨石原野"],
		["Den 8, Den 41", "戽斗尖梭", "桥间空地"],
		["Den 89, Den 4, Den 5, Den 61, Den 90", "巴大蝶", "巨人镜池"],
		["Den 11, Den 12, Den 35, Den 45, Den 49, Den 69, Den 84, Den 85", "劈斩司令", "巨人镜池"],
		["Den 13, Den 40, Den 65", "踏冰人偶, 爱管侍", "拳关丘陵"],
		["Den 18, Den 19, Den 20, Den 53, Den 54, Den 77", "焰后蜥, 风速狗", "逆鳞湖"],
		["14", "果然翁", "巨石原野"],
		["Den 20, Den 18, Den 19, Den 53, Den 54, Den 71, Den 77, Den 80", "煤炭龟", "巨石原野"],
		["40, (66)", "藏饱栗鼠", "巨石原野"],
		["22", "冻原熊", "巨石原野"],
		["Den 25, Den 72", "光电伞蜥", "煦丽草原"],
		["Den 27, Den 59, Den 70", "樱花儿", "桥间空地"],
		["Den 29, Den 30, Den 44, Den 75, Den 76, Den 78", "千针鱼", "巨人帽岩"],
		["Den 34, Den 33", "皮可西", "逆鳞湖"]
	]

	function sorter(a, b) {
		var left = parseInt(a[0].split(",")[0].replace(/\D/g,''))
		var right = parseInt(b[0].split(",")[0].replace(/\D/g,''))


		if (a[0].split(",")[0].includes("Den")) {
			left += 100
		}
		if (b[0].split(",")[0].includes("Den")) {
			right += 100
		}

		//let left = a[0]
		//let right = b[0]
	    if (left === right) {
	        return 0;
	    }
	    else {
	        return (left < right) ? -1 : 1;
	    }
	}
	function gotoCerebii(element) {
		window.open("https://www.serebii.net/swordshield/maxraidbattles/den" + element.innerHTML.replace(/\D/g,'') + ".shtml")
	}
	function gotoWiki(element) {
		window.open("https://wiki.52poke.com/wiki/" + element.innerHTML)
	}
	function showImage(element) {
		let den = element.parentNode.parentNode.cells[0].firstChild.innerHTML

		let firstPossible = den.split(',')[0].replace(/\s/g, '').toLowerCase()

		//document.getElementById("floater").src = "res/" + firstPossible + ".jfif"

		let name = element.innerHTML.split(',')[0].replace(/\s/g, '').toLowerCase()
		//document.getElementById("floater").src = "res/" + name + ".jfif"
		document.getElementById("floater").src = "res/" + name + firstPossible + ".jfif"
	}
	function createTable(){

		data.sort(sorter);
	    let length = data.length
	    console.log(length)

	    let table  = document.getElementById('tableBody')
	    var a, tr, td
	    var dot, subStrings

	    for(var i = 0; i < length; i++){
	        tr = table.insertRow()

            td = tr.insertCell()
            subStrings = data[i][0].split(",")
            for (var j = 0; j < subStrings.length; j++) {
            	if (j != 0) {
            		dot = document.createTextNode(", ")
            		td.appendChild(dot)
            	}

				a = document.createElement('a')
				a.innerText = subStrings[j].replace(/\s/g, '')
				a.setAttribute('href',"#")
				a.setAttribute("onclick", "gotoCerebii(this)")
				td.appendChild(a)
            }

            td = tr.insertCell()
            subStrings = data[i][1].split(",")
            for (var j = 0; j < subStrings.length; j++) {
            	dot = document.createTextNode("・")
            	td.appendChild(dot)

				a = document.createElement('a')
				a.innerText = subStrings[j].replace(/\s/g, '')
				a.setAttribute('href',"#")
				a.setAttribute("onclick", "gotoWiki(this)")
				td.appendChild(a)
            }

            td = tr.insertCell()
			a = document.createElement('a')
			a.innerText = data[i][2]
			a.setAttribute('href',"#")
			a.setAttribute("onmouseover", "showImage(this)")
			td.appendChild(a)
	    }
	}
</script>

<body onload="createTable()">

<div class="pure-g">
<div class="pure-u-1-8">
</div>
<div class="pure-u-7-8">
<h2>巢穴一覧</h2>
</div>
</div>

<div class="pure-g">
<div class="pure-u-1-24">
</div>

<div class="pure-u-11-24">
<table class="pure-table pure-table-bordered">
<thead><tr>
<td>红光（紫光）</td>
<td>线索宝可梦</td>
<td>位置（晴天）</td>
</tr></thead>

<tbody id="tableBody">
</tbody>

</table>
</div></div>

<div class="floating-div">
	<img id="floater" src="#" height="520">
</div>

</body>
</html>
